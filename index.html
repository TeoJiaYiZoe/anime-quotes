<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Quotes API</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }
    
        header {
            background: #333;
            color: #fff;
            padding: 1rem 0;
            text-align: center;
        }

        header h1 {
            line-height: 1;
        }
        header h3 {
            margin: 0; 
            font-size: 1rem;
            font-weight: normal; 
            color: #fff; 
        }

        footer {
            font-family: Arial, sans-serif;
            background-color: #333;
            text-align: center; 
            padding: 1rem 0;
        }

        footer h3 {
            margin: 0; 
            font-size: 0.8rem;
            font-weight: normal; 
            color: #fff; 
        }

        footer a {
            color: #fff;
            text-decoration: none; 
        }

        footer a:hover {
            text-decoration: underline; 
            color: #fff;
        }

    
        .card {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin: 1rem auto;
            padding: 1rem;
            max-width: 600px;
        }

        .card ul {
            padding-left: 20px;
            list-style-type: disc;
        }

        .card li {
            border: none;
            margin-bottom: 8px;
            background: #fff
        }

        .title {
            border-bottom: 2px solid gray;
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
        }

        .api-section {
            margin-bottom: 20px;
        }

        h3 {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 10px;
        }

        code {
            display: block;
            background-color: #f1f1f1;
            padding: 10px;
            border-radius: 4px;
            font-size: 1rem;
            color: #333;
            margin-bottom: 10px;
        }

        form {
            margin-top: 10px;
            display: flex;
            gap: 8px;
        }

        form input {
            padding: 8px;
            margin: 5px 0;
            font-size: 1rem;
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        form button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 8px;
            margin: 5px 0;

            border-radius: 4px;
            cursor: pointer;
            
        }

        form button:hover {
            background-color: #0056b3;
        }

        ul {
            list-style-type: none;
            padding-left: 0;
        }

        ul li {
            margin-bottom: 5px;
        }
    </style>
    
</head>
<body>
    <header>
        <h1>Anime Quotes API</h1>
        <h3>Discover inspiring anime quotes</h3>
    </header>
    
    <section class="card">
        <h2 class="title">About Anime Quotes API</h2>
        <p>The Anime Quotes API provides access to a vast collection of inspirational anime quotes, perfect for fans looking to relive those powerful moments. Use this API to fetch random quotes, search for quotes by specific anime or tag, and share the wisdom from beloved anime characters with the world.</p>
    </section>

    <section class="card">
        <h2 class="title">⚠️ Responsible Use Guidelines</h2>
        <p>
            This API is provided for educational and personal use only. Please adhere to the following guidelines:
        </p>
        <ul>
            <li>Avoid excessive API requests to ensure fair access for all users.</li>
            <li>Do not scrape, redistribute, or repackage the content from this API without permission.</li>
            <li>Do not use the API for commercial purposes without prior authorization.</li>
            <li>
                When using or sharing data fetched from this API, you must credit 
                <strong>Anime Quotes API</strong> as the source.<br>For example, include a statement like: 
                <em>"Quotes powered by <a href="https://teojiayizoe.github.io/anime-quotes/">Anime Quotes API</a>."</em>
            </li>
        </ul>
    </section>
    <section class="card">
        <h2 class="title">API Endpoints</h2>
        
        <div class="api-section">
            <h3>Get Random Quote</h3>
            <p>Retrieve a random anime quote from the collection.</p>
            <code>GET /random-quote</code>
            <button onclick="getRandomQuote()">Get Random Quote</button>
            <p id="random-quote"></p>
        </div>
    
        <div class="api-section">
            <h3>Fetch Available Animes</h3>
            <p>Fetch the list of available animes from the API.</p>
            <code>GET /available-anime</code>
            <button onclick="getAvailableAnime()">Fetch the list of Available Animes</button>
            <p id="available-anime">No available anime available</p>
        </div>
    
        <div class="api-section">
            <h3>Get Available Tags</h3>
            <p>Fetch the list of available tags from the API.</p>
            <code>GET /available-tags</code>
            <button onclick="getAvailableTags()">Fetch the list of Available Tags</button>
            <p id="available-tags">No available tags available</p>
        </div>
    
        <div class="api-section">
            <h3>Get Quotes by Anime</h3>
            <p>Search for quotes from a specific anime.</p>
            <code>GET /quotes-by-anime</code>
            <form id="anime-form">
                <input type="text" placeholder="Anime (e.g., Jujutsu Kaisen)" id="anime" name="anime" required>
                <button type="submit">Search</button>
            </form>
            <ul id="quotes-by-anime"></ul>
        </div>
    
        <div class="api-section">
            <h3>Get Quotes by Tag</h3>
            <p>Search for quotes by a specific tag.</p>
            <code>GET /quotes-by-tag</code>
            <form id="anime-form">
                <input type="text" placeholder="Tag (e.g., Courage)" id="tag" name="tag" required>
                <button type="submit">Search</button>
            </form>
            <ul id="quotes-by-tag"></ul>
        </div>
    
        <div class="api-section">
            <h3>Search Quotes</h3>
            <p>Search quotes by anime name and/or tag.</p>
            <code>GET /search-quotes</code>
            <form id="anime-form">
                <input type="text" placeholder="Anime (e.g., Jujutsu Kaisen)" id="search-anime" name="anime">
                <input type="text" placeholder="Tag (e.g., Courage)" id="search-tag" name="tag">
                <button type="submit">Search</button>
            </form>
            <ul id="search-results"></ul>
        </div>
    </section>

    <footer>
        <h3>Created by <a href="https://teojiayizoe.github.io/">TeoJiaYiZoe</a></h3>
    </footer>
    
    
    <script>
        const baseUrl = "https://0k18915803.execute-api.ap-southeast-1.amazonaws.com";

        // Get Random Quote
        async function getRandomQuote() {
            try {
                const response = await fetch(`${baseUrl}/random-quote`);
                const data = await response.json();
                const randomQuote = data.quote || "No quote available";
                const anime = data.anime || "No anime available"; 

                document.getElementById("random-quote").innerHTML = `"${randomQuote}"<br>- ${anime}`;
            } catch (error) {
                console.error('Error fetching random quote:', error);
                document.getElementById("random-quote").innerText = "Error fetching quote";
            }
        }

        // Get Available Anime
        async function getAvailableAnime() {
            try {
                const response = await fetch(`${baseUrl}/available-anime`);
                const data = await response.json();
                document.getElementById("available-anime").innerText = data.animes.join(', ') || "No available anime available";
            } catch (error) {
                console.error('Error fetching available anime:', error);
                document.getElementById("available-anime").innerText = "Error fetching available anime";
            }
        }

        // Get Available Tags
        async function getAvailableTags() {
            try {
                const response = await fetch(`${baseUrl}/available-tags`);
                const data = await response.json();
                document.getElementById("available-tags").innerText = data.tags.join(', ') || "No available tags available";
            } catch (error) {
                console.error('Error fetching available tags:', error);
                document.getElementById("available-tags").innerText = "Error fetching available tags";
            }
        }
        

        // Get Quotes by Anime
        document.getElementById("anime-form").addEventListener("submit", async function (event) {
        event.preventDefault();
        const anime = document.getElementById("anime").value;
        try {
            const response = await fetch(`${baseUrl}/quotes-by-anime?anime=${anime}`);
            const data = await response.json();
            const quotesList = document.getElementById("quotes-by-anime");
            quotesList.innerHTML = ''; // Clear previous results

            // Handle response if it's a single object or an array
            if (Array.isArray(data) && data.length > 0) {
                data.forEach(quote => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `"${quote.quote}" - <strong>${quote.character}</strong> (${quote.anime})`;
                    quotesList.appendChild(listItem);
                });
            } else {
                quotesList.innerHTML = "<li>No quotes found for this anime.</li>";
            }
        } catch (error) {
            console.error('Error fetching quotes by anime:', error);
            document.getElementById("quotes-by-anime").innerHTML = "<li>Error fetching quotes. Please try again later.</li>";
        }
    });


        // Get Quotes by Tag
        document.getElementById("tag-form").addEventListener("submit", async function (event) {
        event.preventDefault();
        const tag = document.getElementById("tag").value;
        try {
            const response = await fetch(`${baseUrl}/quotes-by-tag?tag=${tag}`);
            const data = await response.json();
            const quotesList = document.getElementById("quotes-by-tag");
            quotesList.innerHTML = ''; // Clear previous results

            // Handle response if it's a single object or an array
            if (Array.isArray(data)) {
                if (data.length === 0) {
                    quotesList.innerHTML = "<li>No quotes found for this tag.</li>";
                } else {
                    data.forEach(quote => {
                        const li = document.createElement("li");
                        li.textContent = `"${quote.quote}" - ${quote.anime} (${quote.tags.join(", ")})`;
                        quotesList.appendChild(li);
                    });
                }
            } else if (data.quote) { // If it's a single object
                const li = document.createElement("li");
                li.textContent = `"${data.quote}" - ${data.anime} (${data.tags.join(", ")})`;
                quotesList.appendChild(li);
            } else {
                quotesList.innerHTML = `<li>${data.error || "Unexpected response format"}</li>`;
            }
        } catch (error) {
            console.error('Error fetching quotes by tag:', error);
            document.getElementById("quotes-by-tag").innerHTML = `<li>Error fetching quotes</li>`;
        }
    });



        // Search Quotes
        document.getElementById("search-form").addEventListener("submit", async function (event) {
        event.preventDefault();
        const anime = document.getElementById("search-anime").value;
        const tag = document.getElementById("search-tag").value;
        try {
            const url = new URL(`${baseUrl}/search-quotes`);
            if (anime) url.searchParams.append("anime", anime);
            if (tag) url.searchParams.append("tag", tag);

            const response = await fetch(url);
            const data = await response.json();
            const resultsList = document.getElementById("search-results");
            resultsList.innerHTML = ''; // Clear previous results

            // Handle response if it's a single object or an array
            if (Array.isArray(data)) {
                if (data.length === 0) {
                    resultsList.innerHTML = "<li>No quotes found for the given search.</li>";
                } else {
                    data.forEach(quote => {
                        const li = document.createElement("li");
                        li.textContent = `"${quote.quote}" - ${quote.anime}`;
                        resultsList.appendChild(li);
                    });
                }
            } else if (data.quote) { // If it's a single object
                const li = document.createElement("li");
                li.textContent = `"${data.quote}" - ${data.anime}`;
                resultsList.appendChild(li);
            } else {
                resultsList.innerHTML = `<li>${data.error || "Unexpected response format"}</li>`;
            }
        } catch (error) {
            console.error('Error searching quotes:', error);
            document.getElementById("search-results").innerHTML = `<li>Error searching quotes</li>`;
        }
    });

    </script>
</body>
</html>
